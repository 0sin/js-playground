<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>계산기 만들기</title>
</head>
<body>
  <h1>계산기 만들기 | Loop</h1>
  <h2 id="answer">계산결과</h2>
  


  <script>

    let input = {count: 2};

    input.getFirstValue = function() {
      let firstNum = Number(prompt('첫번째 숫자를 입력해주세요.'));
      return firstNum;
    };


    input.getSecondValue= function() {
      let num2 = Number(prompt( this.count + '번째 숫자를 입력해주세요.'));
      this.count++
      return num2;
    };

    input.getOperator = function() {
      let op = prompt('연산자를 입력해주세요. 멈추려면 q를 입력하세요.');
      while(true) {
        if (op === '+' || op === '-' || op === '*' || op === '/' || op === 'q') {
          break;
        } else {
          alert('올바른 연산자를 입력해주세요.');
        }
      }
      return op;
    };


    
    calculator = {};
    calculator.calculate = function(first, second, op) {
      var ret;

      switch(op) {
        case "+":
          ret = first + second;
          break;
        case "-":
          ret = first - second;
          break;
        case "*":
          ret = first * second;
          break;
        case "/":
          ret = first / second;
          break;
      }
      return ret;
    };


    output = {};
    output.answer = document.getElementById('answer');
    output.print = function(value) {
      this.answer.innerHTML = "최종 결과 값은 " + value + "입니다.";
    };


    function main() {
      var result = input.getFirstValue();

      while(true) {
        var op = input.getOperator();
        if (op === 'q') {
          break;
        }
        var num = input.getSecondValue();
        result = calculator.calculate(result, num, op);
      }
      output.print(result);
    }
    main();


  </script>
  
</body>
</html>